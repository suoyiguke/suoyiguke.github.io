<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="java-图片操作.md, 想做一个冷漠的人，但又太乐于助人">
    <meta name="baidu-site-verification" content="fmlEuI34ir" />
    <meta name="google-site-verification" content="yCy2azpds5XSuGZvis6OuA-XIGF5GuGpYRAaGfD6o48" />
    <meta name="360-site-verification" content="b7c11a830ef90fd1464ad6206bb7b6e7" />
    <meta name="description" content="###改变格式
     BufferedImage bufferedImg = ImageIO.read(new File(&amp;quot;D:\\大小.jpg&amp;quot;));
        //转为gif

        File f">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>java-图片操作.md | 尹凯的博客</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <style type="text/css">
        
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?ce84511d3df71640a9378a69f6293044";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

    

    <script>
        (function(){
        var src = "https://jspassport.ssl.qhimg.com/11.0.1.js?d182b3f28525f2db83acfaaf6e696dba";
        document.write('<script src="' + src + '" id="sozz"><\/script>');
        })();
    </script>

<meta name="generator" content="Hexo 5.4.0"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

<body>

    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">尹凯的博客</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <i class="fa fa-home"></i>
            
            <span>首页</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/tags" class="waves-effect waves-light">
            
            <i class="fa fa-tags"></i>
            
            <span>标签</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <i class="fa fa-bookmark"></i>
            
            <span>分类</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">
            
            <i class="fa fa-archive"></i>
            
            <span>归档</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/about" class="waves-effect waves-light">
            
            <i class="fa fa-user-circle-o"></i>
            
            <span>关于</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/friends" class="waves-effect waves-light">
            
            <i class="fa fa-address-book"></i>
            
            <span>友情链接</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/contact" class="waves-effect waves-light">
            
            <i class="fa fa-comments"></i>
            
            <span>留言板</span>
        </a>
    </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="搜索"></i>
        </a>
    </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">尹凯的博客</div>
        <div class="logo-desc">
            
            广州番禺职业技术学院 | 自考本科在读
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-home"></i>
                
                首页
            </a>
        </li>
        
        <li>
            <a href="/tags" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-tags"></i>
                
                标签
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-bookmark"></i>
                
                分类
            </a>
        </li>
        
        <li>
            <a href="/archives" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-archive"></i>
                
                归档
            </a>
        </li>
        
        <li>
            <a href="/about" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-user-circle-o"></i>
                
                关于
            </a>
        </li>
        
        <li>
            <a href="/friends" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-address-book"></i>
                
                友情链接
            </a>
        </li>
        
        <li>
            <a href="/contact" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-comments"></i>
                
                留言板
            </a>
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/suoyiguke" class="waves-effect waves-light" target="_blank">
                <i class="fa fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/suoyiguke" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/24.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        java-图片操作.md
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 20px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                        <a href="/tags/java-%E4%B8%89%E6%96%B9%E5%BA%93%E5%AD%A6%E4%B9%A0/" target="_blank">
                            <span class="chip bg-color">java-三方库学习</span>
                        </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fa fa-bookmark fa-fw icon-category"></i>
                        
                        <a href="/categories/java-%E4%B8%89%E6%96%B9%E5%BA%93%E5%AD%A6%E4%B9%A0/" class="post-category" target="_blank">
                            java-三方库学习
                        </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2022-03-20
                </div>

                <div class="post-author info-break-policy">
                    <i class="fa fa-user-o fa-fw"></i>作者:&nbsp;&nbsp;
                    
                    尹凯
                    
                </div>

                
                
                <div class="info-break-policy">
                    <i class="fa fa-file-word-o fa-fw"></i>文章字数:&nbsp;&nbsp;
                    1.2k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="fa fa-clock-o fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    7 分
                </div>
                
                

                
                <div id="busuanzi_container_page_pv" class="info-break-policy">
                    <i class="fa fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                    <span id="busuanzi_value_page_pv"></span>
                </div>
                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>###改变格式</p>
<pre><code>     BufferedImage bufferedImg = ImageIO.read(new File(&quot;D:\\大小.jpg&quot;));
        //转为gif

        File file1 = new File(&quot;D:\\大小2.gif&quot;);
        ImageIO.write(bufferedImg, &quot;gif&quot;, file1);
</code></pre>
<p>###判断格式<br>com.alibaba.simpleimage.util.ImageUtils</p>
<pre><code>        InputStream inputStream = new FileInputStream(file1);
        InputStream input = ImageUtils.createMemoryStream(inputStream);
        System.out.println(ImageUtils.isJPEG(input));
        System.out.println(ImageUtils.isBMP(input));
        System.out.println(ImageUtils.isGIF(input));
        System.out.println(ImageUtils.isPNG(input));
        System.out.println(ImageUtils.isTIFF(input));
</code></pre>
<p>无依赖版本</p>
<pre><code>        File imageFile = new File(&quot;d://111111.jpg&quot;);
        try (ImageInputStream imageInputStream = ImageIO.createImageInputStream(imageFile)) &#123;
            Iterator&lt;ImageReader&gt; imageReadersList = ImageIO.getImageReaders(imageInputStream);

            if (!imageReadersList.hasNext()) &#123;
                throw new RuntimeException(&quot;Cannot detect image format.&quot;);
            &#125;

            ImageReader reader = imageReadersList.next();
            System.out.println(&quot;Image format：&quot; + reader.getFormatName());
        &#125;
</code></pre>
<p>###获得 BufferedImage 方式</p>
<p>###写入<br>ImageIO.write(BufferedImage , “jpg”, new File(to));</p>
<h3 id="png-转-jpg-24位深度，添加白色背景"><a href="#png-转-jpg-24位深度，添加白色背景" class="headerlink" title="png 转 jpg 24位深度，添加白色背景"></a>png 转 jpg 24位深度，添加白色背景</h3><pre><code>   public static void main(String[] args) throws IOException &#123;

        String zz =&quot;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&quot;;
        ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(new BASE64Decoder().decodeBuffer(zz));
        BufferedImage bufferedImg = ImageIO.read(byteArrayInputStream);


       // png 转 jpg的过程添加 白色背景。因为签章png背景是透明的。而jpg背景不能是透明。所以默认显示黑色。我们需要填充白色
        bufferedImg.createGraphics().drawImage(bufferedImg, 0, 0, Color.WHITE, null);
        FileOutputStream out = new FileOutputStream(&quot;D:\\111.jpg&quot;);//目标路径
        JPEGImageEncoder encoder = JPEGCodec.createJPEGEncoder(out);
        JPEGEncodeParam param=encoder.getDefaultJPEGEncodeParam(bufferedImg);//imgBuff 添加水印后的图片
        param.setQuality(1, true);//设置质量
        encoder.encode(bufferedImg, param);



        BufferedImage bufferedImage2 = new BufferedImage(bufferedImg.getWidth(), bufferedImg.getHeight(), BufferedImage.TYPE_3BYTE_BGR);
        for (int x = 0; x &lt; bufferedImg.getWidth(); x++) &#123;
            for (int y = 0; y &lt; bufferedImg.getHeight(); y++) &#123;
                bufferedImage2.setRGB(x, y, bufferedImg.getRGB(x, y));
            &#125;
        &#125;
        FileOutputStream fileOutputStream2 = new FileOutputStream(&quot;D:\\1111.jpg&quot;);//目标路径
        JPEGImageEncoder encoder2 = JPEGCodec.createJPEGEncoder(fileOutputStream2);
        JPEGEncodeParam param2=encoder2.getDefaultJPEGEncodeParam(bufferedImage2);//imgBuff 添加水印后的图片
        encoder2.encode(bufferedImage2,param2);
        fileOutputStream2.close();


        /**
         * 检查是不是 jpg
         */
//        File file = new File(&quot;D:\\111.jpg&quot;);
//        byte[] bytes = FileUtils.readFileToByteArray(file);
//        String  stampBase64 = Base64Util.encode(bytes).replaceAll(&quot;\r\n&quot;, &quot;&quot;);
//        System.out.println(stampBase64);






    &#125;
</code></pre>
<h3 id="字节数组转-base64码"><a href="#字节数组转-base64码" class="headerlink" title="字节数组转 base64码"></a>字节数组转 base64码</h3><p>Base64Util.encode(outputStream1.toByteArray()).replaceAll(“\r\n”, “”);</p>
<p>###base64转字节数组、转ByteArrayInputStream 、转<br>  byteArrayInputStream = new ByteArrayInputStream(<br>                new BASE64Decoder().decodeBuffer(base64));</p>
<p>byteArrayOutputStream.toByteArray()</p>
<p>###获得base64 图片/文件大小，单位字节</p>
<pre><code>  System.out.println(new BASE64Decoder().decodeBuffer(zz).length);
</code></pre>
<p>###检查base64图片的属性</p>
<pre><code>    public static void main(String[] args) throws IOException &#123;
        ByteArrayInputStream byteArrayInputStream = null;
        ByteArrayOutputStream byteArrayOutputStream = null;
        try &#123;

            String zz =&quot;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&quot;;
            byte[] bytes = new BASE64Decoder().decodeBuffer(zz);
            byteArrayInputStream = new ByteArrayInputStream(
                bytes);

            //判断格式
            InputStream input = ImageUtils.createMemoryStream(byteArrayInputStream);
            System.out.println(ImageUtils.isJPEG(input));
            System.out.println(ImageUtils.isBMP(input));
            System.out.println(ImageUtils.isGIF(input));
            System.out.println(ImageUtils.isPNG(input));
            System.out.println(ImageUtils.isTIFF(input));

            //得到图片数据
            System.out.println(bytes);

            //得到图片宽高
            BufferedImage bufferedImg = ImageIO.read(byteArrayInputStream);
            System.out.println(bufferedImg.getWidth());
            System.out.println(bufferedImg.getHeight());



        &#125;catch (Exception e )&#123;
            e.printStackTrace();
        &#125;finally &#123;
            if(byteArrayInputStream !=null)&#123;
                byteArrayInputStream.close();
            &#125;
            if(byteArrayOutputStream !=null)&#123;
                byteArrayOutputStream.close();
            &#125;
        &#125;





    &#125;
</code></pre>
<p>###打印图片基本数据</p>
<pre><code>
    public static void printImageInfo(String base64) throws IOException &#123;

        ByteArrayInputStream byteArrayInputStream = null;
        byte[] bytes = new BASE64Decoder().decodeBuffer(base64);
        byteArrayInputStream = new ByteArrayInputStream(
            bytes);

        //判断格式
        ImageInputStream imageInputStream = ImageIO
            .createImageInputStream(byteArrayInputStream);

        Iterator&lt;ImageReader&gt; imageReadersList = ImageIO.getImageReaders(imageInputStream);

        if (!imageReadersList.hasNext()) &#123;
            throw new RuntimeException(&quot;Cannot detect image format.&quot;);
        &#125;
        ImageReader reader = imageReadersList.next();
        System.out.println(&quot;Image format：&quot; + reader.getFormatName());

        //得到图片数据
        System.out.println(&quot;大小 &quot; + bytes.length);

        //得到图片宽高
        BufferedImage bufferedImg = ImageIO.read(imageInputStream);
        System.out.println(&quot;Width  &quot; + bufferedImg.getWidth());
        System.out.println(&quot;Height  &quot; + bufferedImg.getHeight());


    &#125;

</code></pre>

            </div>
            <hr />

            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信里点“发现”->“扫一扫”二维码便可查看分享。</p>"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            

    <div class="reprint" id="reprint-statement">
        <p class="reprint-tip">
            <i class="fa fa-exclamation-triangle"></i>&nbsp;&nbsp;
            <span>转载规则</span>
        </p>
        
            <div class="center-align">
                <a rel="license noopener" target="_blank" href="https://creativecommons.org/licenses/by/4.0/deed.zh">
                    <img alt=""
                         style="border-width:0"
                         src="https://i.creativecommons.org/l/by/4.0/88x31.png"/>
                </a>
            </div>
            <br/>
            <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text"
                  property="dct:title" rel="dct:type">
                    《java-图片操作.md》
                </span> 由
            <a xmlns:cc="http://creativecommons.org/ns#" href="/2022/03/20/java-tu-pian-cao-zuo/" property="cc:attributionName"
               rel="cc:attributionURL">
                尹凯
            </a> 采用
            <a rel="license noopener" target="_blank" href="https://creativecommons.org/licenses/by/4.0/deed.zh">
                知识共享署名 4.0 国际许可协议
            </a>进行许可。
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>


        </div>
    </div>

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2022/03/20/idea-dao-ru-dai-ma-feng-ge-xml/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/18.jpg" class="responsive-img" alt="idea-导入代码风格xml.md">
                        
                        <span class="card-title">idea-导入代码风格xml.md</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            多人协同开发最好是统一一下代码风格，比如 if语句的花括号是不是紧接着放到if(xx)后面。有些规范是单独将{放到一行的。
java-&gt;import scheme -&gt;intellij IDEA code style XML
指
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2022-03-20
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/" class="post-category" target="_blank">
                                    开发工具
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/" target="_blank">
                        <span class="chip bg-color">开发工具</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/03/20/maven-shi-yong-ming-ling-pai-chong-tu-de-yi-lai/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/18.jpg" class="responsive-img" alt="maven使用命令排冲突的依赖.md">
                        
                        <span class="card-title">maven使用命令排冲突的依赖.md</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            SLF4J: Class path contains multiple SLF4J bindings.SLF4J: Found binding in [jar:file:/C:/Users/yinkai/.m2/repository/ch/
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2022-03-20
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/maven/" class="post-category" target="_blank">
                                    maven
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/maven/" target="_blank">
                        <span class="chip bg-color">maven</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: 尹凯的博客<br />'
            + '作者: 尹凯<br />'
            + '链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () { bodyElement.removeChild(newdiv); }, 200);
    });
</script>
<!-- 
<script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script>
<script>
    const btw = new BTWPlugin();
    btw.init({
        id: 'artDetail',
        blogId: '20962-1585405055583-879',
        name: '因为我是一个人，身为一个人应该做的',
        qrcode: 'https://.com/medias/gzh.jpg',
        keyword: 'VIP',
    });
</script> -->

    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fa fa-list"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).slideUp(500);
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).slideDown(500);
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>
    

</main>


<script src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$', '$'], ['\(', '\)']]}
    });
</script>

<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>
<!-- 代码语言 -->
<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>
<!-- 代码块复制 -->
<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>
<script type="text/javascript" src="/libs/codeBlock/clipboard.min.js"></script>
<!-- 代码块收缩 -->
<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script> 
<!-- 代码块折行 -->
<style type="text/css">code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }</style>


    <footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            &copy; 2018-2021 YinKai. 版权所有

            
            &nbsp;<i class="fa fa-area-chart"></i>&nbsp;站点总字数:&nbsp;
            <span class="white-color">810.8k</span>
            

            <br>
            <span id="sitetime"></span>

            
            
            <br>
            
            <span id="busuanzi_container_site_pv" style='display:none'>
                <i class="fa fa-heart-o"></i>
                本站总访问量 <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
            <span id="busuanzi_container_site_uv" style='display:none'>
                人次,&nbsp;访客数 <span id="busuanzi_value_site_uv" class="white-color"></span> 人.
            </span>
            
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/suoyiguke" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fa fa-github"></i>
    </a>



    <a href="mailto:suoyiguke_yinkai@aliyun.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>





    <a href="http://wpa.qq.com/msgrd?v=3&uin=2542847562&site=qq&menu=yes" class="tooltipped" target="_blank" data-tooltip="访问我的知乎" data-position="top" data-delay="50">
        <i class="fa fa-qq"></i>
    </a>





    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fa fa-rss"></i>
    </a>
</div>
    </div>
</footer>

<div class="progress-bar"></div>

<!-- 不蒜子计数初始值纠正 -->
<script>
    $(document).ready(function () {

        var int = setInterval(fixCount, 50);
        var pvcountOffset = 80000;
        var uvcountOffset = 20000;

        function fixCount() {
            if (document.getElementById("busuanzi_container_site_pv").style.display != "none") {
                $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + pvcountOffset);
                clearInterval(int);
            }
            if ($("#busuanzi_container_site_pv").css("display") != "none") {
                $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + uvcountOffset); // 加上初始数据 
                clearInterval(int);
            }
        }
    });
</script>

<script language=javascript>
    function siteTime() {
        window.setTimeout("siteTime()", 1000);
        var seconds = 1000;
        var minutes = seconds * 60;
        var hours = minutes * 60;
        var days = hours * 24;
        var years = days * 365;
        var today = new Date();
        var todayYear = today.getFullYear();
        var todayMonth = today.getMonth() + 1;
        var todayDate = today.getDate();
        var todayHour = today.getHours();
        var todayMinute = today.getMinutes();
        var todaySecond = today.getSeconds();
        /* Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
        year - 作为date对象的年份，为4位年份值
        month - 0-11之间的整数，做为date对象的月份
        day - 1-31之间的整数，做为date对象的天数
        hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
        minutes - 0-59之间的整数，做为date对象的分钟数
        seconds - 0-59之间的整数，做为date对象的秒数
        microseconds - 0-999之间的整数，做为date对象的毫秒数 */
        var t1 = Date.UTC(2017, 09, 11, 00, 00, 00); //北京时间2018-2-13 00:00:00
        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
        var diff = t2 - t1;
        var diffYears = Math.floor(diff / years);
        var diffDays = Math.floor((diff / days) - diffYears * 365);
        var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
        var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) / minutes);
        var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours - diffMinutes * minutes) / seconds);
        document.getElementById("sitetime").innerHTML = "本站已运行 " + diffYears + " 年 " + diffDays + " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
    }/*因为建站时间还没有一年，就将之注释掉了。需要的可以取消*/
    siteTime();
</script>

    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <script type="text/javascript"> var OriginTitile = document.title, st; document.addEventListener("visibilitychange", function () { document.hidden ? (document.title = "Σ(っ °Д °;)っ喔哟，崩溃啦！", clearTimeout(st)) : (document.title = "φ(゜▽゜*)♪咦，又好了！", st = setTimeout(function () { document.title = OriginTitile }, 3e3)) })
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=查教程获取"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', '查教程获取');
</script>



    
    <script src="/libs/others/clicklove.js"></script>
    

    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    <!-- 雪花特效 -->
    
    <script type="text/javascript" src="/libs/others/snow.js"></script>
    

</body>

</html>